<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.35">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>lambda架构 | 大数据知识点集锦</title><meta name="description" content="lambda架构">
    <link rel="modulepreload" href="/assets/app.f67b6590.js"><link rel="modulepreload" href="/assets/lambda.html.dfe812ec.js"><link rel="modulepreload" href="/assets/lambda.html.62319ae0.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/assets/style.4f4b7d40.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">大数据知识点集锦</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="大数据架构知识点"><span class="title">大数据架构知识点</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="大数据架构知识点"><span class="title">大数据架构知识点</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>数据湖</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/dataLake" class="" aria-label="数据湖"><!--[--><!--]--> 数据湖 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>大数据架构</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a aria-current="page" href="/architecture/lambda.html" class="router-link-active router-link-exact-active router-link-active" aria-label="lambda架构"><!--[--><!--]--> lambda架构 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/architecture/kappa.html" class="" aria-label="kappa架构"><!--[--><!--]--> kappa架构 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="hadoop"><span class="title">hadoop</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="hadoop"><span class="title">hadoop</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>hdfs</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/hadoop/hdfs/hdfsShell.html" class="" aria-label="hdfs Shell命令"><!--[--><!--]--> hdfs Shell命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/hadoop/hdfs/distcp.html" class="" aria-label="hdfs distcp命令"><!--[--><!--]--> hdfs distcp命令 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="消息队列"><span class="title">消息队列</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="消息队列"><span class="title">消息队列</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>kafka</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/MQ/kafka/kafkaCommand.html" class="" aria-label="kafka基本命令"><!--[--><!--]--> kafka基本命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/MQ/kafka/sasl/kafkaSaslPlain.html" class="" aria-label="kafka sasl plain认证"><!--[--><!--]--> kafka sasl plain认证 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="sql数据库"><span class="title">sql数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="sql数据库"><span class="title">sql数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>mysql</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/sqlDatabase/mysql/mysqlDump.html" class="" aria-label="mysqlDump迁移"><!--[--><!--]--> mysqlDump迁移 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="nosql数据库"><span class="title">nosql数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="nosql数据库"><span class="title">nosql数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>redis</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/noSqlDatabase/redis/redisAOF.html" class="" aria-label="redis AOF"><!--[--><!--]--> redis AOF <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>ssdb</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/noSqlDatabase/ssdb/ssdbToredis.html" class="" aria-label="SSDB数据迁移至Redis"><!--[--><!--]--> SSDB数据迁移至Redis <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>impala</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/noSqlDatabase/impala/" class="" aria-label="impala基础入门"><!--[--><!--]--> impala基础入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>kudu</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/noSqlDatabase/kudu/" class="" aria-label="kudu基础入门"><!--[--><!--]--> kudu基础入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="大数据架构知识点"><span class="title">大数据架构知识点</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="大数据架构知识点"><span class="title">大数据架构知识点</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>数据湖</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/dataLake" class="" aria-label="数据湖"><!--[--><!--]--> 数据湖 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>大数据架构</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a aria-current="page" href="/architecture/lambda.html" class="router-link-active router-link-exact-active router-link-active" aria-label="lambda架构"><!--[--><!--]--> lambda架构 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/architecture/kappa.html" class="" aria-label="kappa架构"><!--[--><!--]--> kappa架构 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="hadoop"><span class="title">hadoop</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="hadoop"><span class="title">hadoop</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>hdfs</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/hadoop/hdfs/hdfsShell.html" class="" aria-label="hdfs Shell命令"><!--[--><!--]--> hdfs Shell命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/hadoop/hdfs/distcp.html" class="" aria-label="hdfs distcp命令"><!--[--><!--]--> hdfs distcp命令 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="消息队列"><span class="title">消息队列</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="消息队列"><span class="title">消息队列</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>kafka</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/MQ/kafka/kafkaCommand.html" class="" aria-label="kafka基本命令"><!--[--><!--]--> kafka基本命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/MQ/kafka/sasl/kafkaSaslPlain.html" class="" aria-label="kafka sasl plain认证"><!--[--><!--]--> kafka sasl plain认证 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="sql数据库"><span class="title">sql数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="sql数据库"><span class="title">sql数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>mysql</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/sqlDatabase/mysql/mysqlDump.html" class="" aria-label="mysqlDump迁移"><!--[--><!--]--> mysqlDump迁移 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="nosql数据库"><span class="title">nosql数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="nosql数据库"><span class="title">nosql数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>redis</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/noSqlDatabase/redis/redisAOF.html" class="" aria-label="redis AOF"><!--[--><!--]--> redis AOF <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>ssdb</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/noSqlDatabase/ssdb/ssdbToredis.html" class="" aria-label="SSDB数据迁移至Redis"><!--[--><!--]--> SSDB数据迁移至Redis <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>impala</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/noSqlDatabase/impala/" class="" aria-label="impala基础入门"><!--[--><!--]--> impala基础入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>kudu</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/noSqlDatabase/kudu/" class="" aria-label="kudu基础入门"><!--[--><!--]--> kudu基础入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">lambda架构 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/architecture/lambda.html#一、lambda架构需求" class="router-link-active router-link-exact-active sidebar-item" aria-label="一、Lambda架构需求"><!--[--><!--]--> 一、Lambda架构需求 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/architecture/lambda.html#二、lambda架构的关键" class="router-link-active router-link-exact-active sidebar-item" aria-label="二、Lambda架构的关键"><!--[--><!--]--> 二、Lambda架构的关键 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/architecture/lambda.html#三、lambda架构的分层" class="router-link-active router-link-exact-active sidebar-item" aria-label="三、Lambda架构的分层"><!--[--><!--]--> 三、Lambda架构的分层 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/architecture/lambda.html#四、lambda架构总结" class="router-link-active router-link-exact-active sidebar-item" aria-label="四、Lambda架构总结"><!--[--><!--]--> 四、Lambda架构总结 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h2 id="一、lambda架构需求" tabindex="-1"><a class="header-anchor" href="#一、lambda架构需求" aria-hidden="true">#</a> 一、Lambda架构需求</h2><p><img src="https://oscimg.oschina.net/oscnet/891f2f52-2d68-436b-99b7-a6308c45b84e.png" alt="img"></p><p>Lambda架构背后的需求是由于MR架构的延迟问题。MR虽然实现了分布式、可扩展数据处理系统的目的，但是在处理数据时延迟比较严重。实际上如果内存和CPU足够强大，MR也可以实现近实时运算，但实际业务环境并非如此，因此我们需要权衡，选择实时处理和批处理所需要数据量和恰当的资源。</p><p>2012年Storm的作者Nathan Marz提出的Lambda数据处理框架。Lambda架构的目标是设计出一个能满足实时大数据系统关键特性的架构，包括有：高容错、低延时和可扩展等。Lambda架构整合离线计算和实时计算，融合不可变性（Immunability），读写分离和复杂性隔离等一系列架构原则，可集成Hadoop，Kafka，Storm，Spark，Hbase等各类大数据组件。</p><h2 id="二、lambda架构的关键" tabindex="-1"><a class="header-anchor" href="#二、lambda架构的关键" aria-hidden="true">#</a> 二、Lambda架构的关键</h2><p><img src="https://oscimg.oschina.net/oscnet/4be975e2-3d4f-4a79-9a84-58b832e68af0.png" alt="img"></p><ul><li>横向扩容</li></ul><p>可扩展性意味着为满足日益增长的用户服务需求，同时不用对底层架构或者代码，可以通过现有机器添加内存或者磁盘资源来实现（垂直扩展），或者可以通过在集群中添加机器实现（水平扩展）。无论是实时或者批处理，都应该能够不停服务的情况下，可以实施水平扩展。</p><ul><li>故障容错</li></ul><p>系统需要妥善处理故障，确保系统在某些组件发生故障的情况下，整个系统服务的可用性。可能部分组件故障会导致集群中部分节点宕机，影响了整理的SLA，但是系统还是可以相应的，系统不能有单点故障。</p><ul><li>低延迟</li></ul><p>很多应用对于读和写操作的延时要求非常高，要求对更新和查询的响应是低延时的。</p><ul><li>可扩展</li></ul><p>系统需要足够灵活，能够实现新增和修改需求，又不需要重构整个系统。实时处理和批处理隔离开，能够灵活修改需求。</p><ul><li>易维护</li></ul><p>开发部署不能够太复杂。</p><h2 id="三、lambda架构的分层" tabindex="-1"><a class="header-anchor" href="#三、lambda架构的分层" aria-hidden="true">#</a> 三、Lambda架构的分层</h2><p><img src="https://oscimg.oschina.net/oscnet/d726f137-d2c5-4a36-8fac-52cf2c9f3a55.png" alt="img"></p><p>在Lambda架构中新数据到达时，会被同时分派到批处理层和快速处理层。一旦数据到达批处理层，按照常规批处理时间间隔，每次都从头开始重新计算并生成批处理视图。类似地，只要新数据到达快速处理层，快速处理层就会使用新数据生成快速视图。在查询到达服务层时，它会合并快速视图和批处理视图来生成适当的查询结果。生成批处理视图后，快速视图将被丢弃，除非有新数据抵达，否则只需要查询批处理视图，因为此时批处理层中拥有所有的数据。</p><p>Lambda架构定义主要层以及每个组件之间的集成。注意分为以下层：</p><ul><li>数据源</li></ul><p>数据源指外部的数据库、消息队列、文件等，可以开发数据消费层，隐藏来自不同访问数据的复杂性，定义好数据格式。</p><ul><li>数据消费层</li></ul><p>负责封装不能数据源获取数据的复杂性，将其转换可由批处理或者流处理进一步使用同一的格式进行消费。</p><ul><li>批处理层</li></ul><p>这是Lambda架构核心层之一，批处理接受数据，持久化到用户定义好的数据结构中，维护着主数据。数据结构一般不做改变，只是追加数据。批处理还负责创建和维护批处理视图。比如我们常做的Hive ETL ,统计一些数据，最后将结果保存在hive表中，或者数据库中，就属于批处理层。</p><ul><li>实时层</li></ul><p>这是Lambda另一个核心层。批处理在很多场景下能够满足需求，但是随着业务需求“苛刻性”，他们希望能够及时看到数据，而不是等到第二天才看指标变化和分析结果。所以引入了实时处理。实时层解决了一个问题，即只存储可立即向用户提供的一组数据，这样就不需要对全量数据进行处理，大大提供处理效率。比如流处理仅仅存储最近5分钟的数据，处理计算并形成结果，这就是我们用spark streaming中要有的时间窗口。</p><ul><li>服务层</li></ul><p>这是Lambda架构的最后一层，服务层的职责是获取批处理和流处理的结果，向用户提供统一查询视图服务。</p><h2 id="四、lambda架构总结" tabindex="-1"><a class="header-anchor" href="#四、lambda架构总结" aria-hidden="true">#</a> 四、Lambda架构总结</h2><p><img src="https://oscimg.oschina.net/oscnet/1952add0-29f4-4866-9bee-dbb7da5147c1.png" alt="img"></p><p>Lambda数据架构曾经成为每一个公司大数据平台必备的架构，它解决了一个公司大数据批量离线处理和实时数据处理的需求。</p><p>数据从底层的数据源开始，经过各种各样的格式进入大数据平台，在大数据平台中经过Kafka、Flume等数据组件进行收集，然后分成两条线进行计算。一条线是进入流式计算平台（例如 Storm、Flink或者Spark Streaming），去计算实时的一些指标；另一条线进入批量数据处理离线计算平台（例如Mapreduce、Hive，Spark SQL），去计算T+1的相关业务指标，这些指标需要隔日才能看见。</p><p>Lambda架构经历多年的发展，非常稳定，对于实时计算部分的计算成本可控，批量处理可以用晚上的时间来整体批量计算，这样把实时计算和离线计算高峰分开，这种架构支撑了数据行业的早期发展，但是它也有一些致命缺点：</p><ul><li>实时与批量计算结果不一致</li></ul><p>因为批量和实时计算走的是两个计算框架和计算程序，算出的结果往往不同，经常看到一个数字当天看是一个数据，第二天看昨天的数据反而发生了变化。</p><ul><li>批处理的健壮性</li></ul><p>随着数据量级越来越大，经常发现夜间只有4、5个小时的时间窗口，已经无法完成白天20多个小时累计的数据，保证早上上班前准时出数据已成为每个大数据团队头疼的问题，同时做个任务并行执行对于大数据集群的稳定性也是巨大的考验，经常会有任务因为资源不足没有定时启动或者报错。</p><ul><li>开发和维护的复杂</li></ul><p>Lambda 架构中对同样的业务逻辑进行两次编程：一次为批量计算的ETL系统，一次为流式计算的Streaming系统。针对同一个业务问题产生了两个代码库，各有不同的漏洞。</p><ul><li>存储增长快</li></ul><p>数据仓库的设计不合理，会产生大量的中间结果表，造成数据急速膨胀，加大服务器存储压力。比如我们经常纠结于数据仓库到底怎么分层，是直接ODS层到应用呢？还是ODS层要景观DWS、DW等，最后才到应用呢？</p><p>Lambda架构虽然有缺点，但是在很多公司依然适用，有时候我们没有那么大的业务量，实时业务需求并没有那么明显，用着Lambda架构依然很爽。对于超大数据量的业务或者实时业务同样多的情况，可以探索改良Lambda，业内也提出了Kappa架构，感兴趣的小伙伴可以搜索学习下。</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: qq712679031@qq.com">yangyunhuang</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--]--></div>
    <script type="module" src="/assets/app.f67b6590.js" defer></script>
  </body>
</html>
