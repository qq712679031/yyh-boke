<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.35">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>SSDB数据迁移至Redis | 大数据知识点集锦</title><meta name="description" content="SSDB数据迁移至Redis">
    <link rel="modulepreload" href="/assets/app.f67b6590.js"><link rel="modulepreload" href="/assets/ssdbToredis.html.628b6b4e.js"><link rel="modulepreload" href="/assets/ssdbToredis.html.83866819.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/assets/style.4f4b7d40.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">大数据知识点集锦</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="大数据架构知识点"><span class="title">大数据架构知识点</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="大数据架构知识点"><span class="title">大数据架构知识点</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>数据湖</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/dataLake" class="" aria-label="数据湖"><!--[--><!--]--> 数据湖 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>大数据架构</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/architecture/lambda.html" class="" aria-label="lambda架构"><!--[--><!--]--> lambda架构 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/architecture/kappa.html" class="" aria-label="kappa架构"><!--[--><!--]--> kappa架构 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="hadoop"><span class="title">hadoop</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="hadoop"><span class="title">hadoop</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>hdfs</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/hadoop/hdfs/hdfsShell.html" class="" aria-label="hdfs Shell命令"><!--[--><!--]--> hdfs Shell命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/hadoop/hdfs/distcp.html" class="" aria-label="hdfs distcp命令"><!--[--><!--]--> hdfs distcp命令 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="消息队列"><span class="title">消息队列</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="消息队列"><span class="title">消息队列</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>kafka</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/MQ/kafka/kafkaCommand.html" class="" aria-label="kafka基本命令"><!--[--><!--]--> kafka基本命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/MQ/kafka/sasl/kafkaSaslPlain.html" class="" aria-label="kafka sasl plain认证"><!--[--><!--]--> kafka sasl plain认证 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="sql数据库"><span class="title">sql数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="sql数据库"><span class="title">sql数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>mysql</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/sqlDatabase/mysql/mysqlDump.html" class="" aria-label="mysqlDump迁移"><!--[--><!--]--> mysqlDump迁移 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="nosql数据库"><span class="title">nosql数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="nosql数据库"><span class="title">nosql数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>redis</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/noSqlDatabase/redis/redisAOF.html" class="" aria-label="redis AOF"><!--[--><!--]--> redis AOF <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>ssdb</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a aria-current="page" href="/noSqlDatabase/ssdb/ssdbToredis.html" class="router-link-active router-link-exact-active router-link-active" aria-label="SSDB数据迁移至Redis"><!--[--><!--]--> SSDB数据迁移至Redis <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>impala</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/noSqlDatabase/impala/" class="" aria-label="impala基础入门"><!--[--><!--]--> impala基础入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>kudu</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/noSqlDatabase/kudu/" class="" aria-label="kudu基础入门"><!--[--><!--]--> kudu基础入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="大数据架构知识点"><span class="title">大数据架构知识点</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="大数据架构知识点"><span class="title">大数据架构知识点</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>数据湖</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/dataLake" class="" aria-label="数据湖"><!--[--><!--]--> 数据湖 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>大数据架构</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/architecture/lambda.html" class="" aria-label="lambda架构"><!--[--><!--]--> lambda架构 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/architecture/kappa.html" class="" aria-label="kappa架构"><!--[--><!--]--> kappa架构 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="hadoop"><span class="title">hadoop</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="hadoop"><span class="title">hadoop</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>hdfs</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/hadoop/hdfs/hdfsShell.html" class="" aria-label="hdfs Shell命令"><!--[--><!--]--> hdfs Shell命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/hadoop/hdfs/distcp.html" class="" aria-label="hdfs distcp命令"><!--[--><!--]--> hdfs distcp命令 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="消息队列"><span class="title">消息队列</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="消息队列"><span class="title">消息队列</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>kafka</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/MQ/kafka/kafkaCommand.html" class="" aria-label="kafka基本命令"><!--[--><!--]--> kafka基本命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/MQ/kafka/sasl/kafkaSaslPlain.html" class="" aria-label="kafka sasl plain认证"><!--[--><!--]--> kafka sasl plain认证 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="sql数据库"><span class="title">sql数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="sql数据库"><span class="title">sql数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>mysql</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/sqlDatabase/mysql/mysqlDump.html" class="" aria-label="mysqlDump迁移"><!--[--><!--]--> mysqlDump迁移 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="nosql数据库"><span class="title">nosql数据库</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="nosql数据库"><span class="title">nosql数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>redis</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/noSqlDatabase/redis/redisAOF.html" class="" aria-label="redis AOF"><!--[--><!--]--> redis AOF <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>ssdb</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a aria-current="page" href="/noSqlDatabase/ssdb/ssdbToredis.html" class="router-link-active router-link-exact-active router-link-active" aria-label="SSDB数据迁移至Redis"><!--[--><!--]--> SSDB数据迁移至Redis <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>impala</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/noSqlDatabase/impala/" class="" aria-label="impala基础入门"><!--[--><!--]--> impala基础入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>kudu</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/noSqlDatabase/kudu/" class="" aria-label="kudu基础入门"><!--[--><!--]--> kudu基础入门 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">SSDB数据迁移至Redis <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/noSqlDatabase/ssdb/ssdbToredis.html#ssdb数据迁移至redis" class="router-link-active router-link-exact-active sidebar-item" aria-label="SSDB数据迁移至Redis"><!--[--><!--]--> SSDB数据迁移至Redis <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/noSqlDatabase/ssdb/ssdbToredis.html#简介" class="router-link-active router-link-exact-active sidebar-item" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/noSqlDatabase/ssdb/ssdbToredis.html#安装准备" class="router-link-active router-link-exact-active sidebar-item" aria-label="安装准备"><!--[--><!--]--> 安装准备 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/noSqlDatabase/ssdb/ssdbToredis.html#安装ssdb-port" class="router-link-active router-link-exact-active sidebar-item" aria-label="安装ssdb-port"><!--[--><!--]--> 安装ssdb-port <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/noSqlDatabase/ssdb/ssdbToredis.html#修改配置文件" class="router-link-active router-link-exact-active sidebar-item" aria-label="修改配置文件"><!--[--><!--]--> 修改配置文件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/noSqlDatabase/ssdb/ssdbToredis.html#执行操作" class="router-link-active router-link-exact-active sidebar-item" aria-label="执行操作"><!--[--><!--]--> 执行操作 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/noSqlDatabase/ssdb/ssdbToredis.html#数据验证" class="router-link-active router-link-exact-active sidebar-item" aria-label="数据验证"><!--[--><!--]--> 数据验证 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h2 id="ssdb数据迁移至redis" tabindex="-1"><a class="header-anchor" href="#ssdb数据迁移至redis" aria-hidden="true">#</a> SSDB数据迁移至Redis</h2><h3 id="简介" tabindex="-1"><a class="header-anchor" href="#简介" aria-hidden="true">#</a> 简介</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>使用ssdb-port将SSDB数据库同步到redis数据库
ssdb-port是一款适用于SSDB数据库的数据同步工具
可实现实时单向数据同步。
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="同步操作的限制" tabindex="-1"><a class="header-anchor" href="#同步操作的限制" aria-hidden="true">#</a> 同步操作的限制</h4><ul><li>注意</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>在SSDB中执行ssdb-port暂不支持的命令修改的数据将无法同步到Redis中。
使用hset或hget命令时，如果对象key为中文则该操作无法同步。使用其它支持的命令无此限制
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>ssdb命令</li></ul><blockquote><p>目前支持同步的SSDB命令如下</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>set
setx
setnx
expire
del
get
incr
qpop_front
qpush_front
qclear
qtrim_front
qtrim_back
zset
zdel
zincr
multi_zdel
multi_zset
hset
hdel
hclear
multi_hset
multi_hdel
hincr
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="安装准备" tabindex="-1"><a class="header-anchor" href="#安装准备" aria-hidden="true">#</a> 安装准备</h3><ul><li>前提</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ssdb-port需要能够连接源ssdb与目的redis，作为实时同步的工具
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>同步原理</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ssdb-port 作为ssdb从节点进行启动，然后将获取到的数据解析转换为redis支持的格式后后发送至redis
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>注意</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>需要注意的是ssdb-port是实时同步的工具
因此全量同步完成后，在连接关闭前，SSDB中新增的数据也会增量同步到Redis实例中
如只需历史数据，请记得先把源ssdb的其他写进口停掉，不然会一直有数据进来，一直在同步
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="安装ssdb-port" tabindex="-1"><a class="header-anchor" href="#安装ssdb-port" aria-hidden="true">#</a> 安装ssdb-port</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># wget http://docs-aliyun.cn-hangzhou.oss.aliyun-inc.com/assets/attach/94155/cn_zh/1547627852086/ssdb-port.tar.gz
# tar -xvf ssdb-port.tar.gz
# cd ssdb-port

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="修改配置文件" tabindex="-1"><a class="header-anchor" href="#修改配置文件" aria-hidden="true">#</a> 修改配置文件</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># cd ssdb-port
# vi ssdb_port.conf
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>ssdb_port.conf</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>
<span class="token comment"># ssdb_port的数据目录，一般默认当前目录下（注意磁盘）</span>
work_dir <span class="token operator">=</span> ./var_ssdb_port  
pidfile <span class="token operator">=</span> ./var_ssdb_port/ssdb.pid

<span class="token comment"># ssdb-port的连接信息，无需修改（这里是ssdb-port的端口）</span>
server:
    ip: <span class="token number">127.0</span>.0.1
    port: <span class="token number">8899</span>
    <span class="token comment">#readonly: yes</span>

replication:
    binlog: <span class="token function">yes</span>
        capacity: <span class="token number">100000000</span>
    <span class="token comment"># Limit sync speed to *MB/s, -1: no limit</span>
    sync_speed: -1
    slaveof:
        <span class="token comment"># to identify a master even if it moved(ip, port changed)</span>
        <span class="token comment"># if set to empty or not defined, ip:port will be used.</span>
        id: svc_1
        <span class="token comment"># sync|mirror, default is sync</span>
        type: <span class="token function">sync</span>
        host: localhost <span class="token comment"># SSDB Master（源SSDB数据库）的连接地址</span>
        port: <span class="token number">8888</span> <span class="token comment"># SSDB Master（源SSDB数据库）的端口</span>
        <span class="token comment">#auth: password</span>
        redis_host: localhost <span class="token comment"># 目的Redis实例的连接地址</span>
        redis_port: <span class="token number">6379</span>  <span class="token comment"># 目的Redis实例的端口</span>
        redis_auth: password  <span class="token comment"># 目的Redis实例的认证密码（没有密码可注释此项）</span>

logger:
    level: debug
    output: log_ssdb_port.txt  <span class="token punctuation">(</span>生成的日志，根据数据量大小决定，还是挺大的，记录了所有操作<span class="token punctuation">)</span>
    rotate:
        size: <span class="token number">1000000000</span>

leveldb:
    <span class="token comment"># in MB</span>
    cache_size: <span class="token number">500</span>
    <span class="token comment"># in MB</span>
    write_buffer_size: <span class="token number">64</span>
    <span class="token comment"># in MB/s</span>
    compaction_speed: <span class="token number">1000</span>
    <span class="token comment"># yes|no</span>
    compression: <span class="token function">yes</span>


</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h3 id="执行操作" tabindex="-1"><a class="header-anchor" href="#执行操作" aria-hidden="true">#</a> 执行操作</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ssdb-port
./ssdb-port-2.17 ssdb_port.conf
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>如果数据量大，执行时间过长，可以使用 <code>nohup</code> 方式执行。</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ssdb-port
<span class="token function">nohup</span> ./ssdb-port-2.17 ssdb_port.conf <span class="token operator">&amp;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="数据验证" tabindex="-1"><a class="header-anchor" href="#数据验证" aria-hidden="true">#</a> 数据验证</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>1.ssdb_prot是进行数据同步的，因此如果old服务一直有数据进来，就会一直同步。
2.可登录redis实例检查数据同步是否完成
3.如果只是同步历史数据，同步完成后再日志log_ssdb_port.txt 中可以看到同步完成的字样
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>&lt;......copy end......&gt;</p><p><img src="https://note.youdao.com/yws/res/10707/A06215990E564BF0A14385EFBB4472DF" alt="image"></p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: yangyunhuang@zhugeio.com">yangyunhuang</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--]--></div>
    <script type="module" src="/assets/app.f67b6590.js" defer></script>
  </body>
</html>
