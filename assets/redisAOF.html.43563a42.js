import{c as e}from"./app.f67b6590.js";import{_ as n}from"./plugin-vue_export-helper.21dcd24c.js";const s={},a=e(`<h3 id="redis\u4F7F\u7528aof\u65B9\u5F0F\u8FC1\u79FB\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#redis\u4F7F\u7528aof\u65B9\u5F0F\u8FC1\u79FB\u6570\u636E" aria-hidden="true">#</a> Redis\u4F7F\u7528AOF\u65B9\u5F0F\u8FC1\u79FB\u6570\u636E</h3><ul><li>\u5F00\u542Faof\u6587\u4EF6</li></ul><blockquote><p>\u9996\u5148\uFF0C\u4F7F\u7528redis-cli\u767B\u5F55redis\uFF0C\u7136\u540E\u5F00\u542Faapendonly</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&gt;&gt; config set appendonly yes
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>\u6216\u8005\u5728\u767B\u5F55\u7684\u65F6\u5019\u4E5F\u53EF\u4EE5\u5F00\u542F\uFF0C\u4E5F\u5C31\u662F\u4E0A\u9762\u547D\u4EE4\u4E5F\u7B49\u4EF7\u4E8E\uFF1A</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ redis-cli -h 127.0.0.1 -p 26480  config set appendonly yes
OK
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5F00\u542Fappendonly\u4E4B\u540E\uFF0C\u5C31\u4F1A\u5728\u914D\u7F6E\u6587\u4EF6\u7684\u5730\u65B9\u751F\u6210\u4E00\u4E2Aaof\u6587\u4EF6 \u5982\u679C\u4E0D\u77E5\u9053\u914D\u7F6E\u6587\u4EF6\u5728\u54EA\u91CC\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4E0B\u9762\u547D\u4EE4\u67E5\u770B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>redis-cli -h realtime-1 -p 26480              
realtime-1:26480&gt; config get dir
1) &quot;dir&quot;
2) &quot;/data/redis_26480&quot;
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u67E5\u770B\u751F\u6210aof\u6587\u4EF6\u7684\u6570\u636E\u76EE\u5F55\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># cd /data/redis_26480/
# ls
  appendonly.aof
  dump.rdb
# \u53EF\u4EE5\u770B\u5230\u751F\u6210\u4E86\u4E00\u4E2A appendonly.aof \u6587\u4EF6
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>\u8FC1\u79FBaof\u6587\u4EF6</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u5C06\u751F\u6210\u7684aof\u6587\u4EF6\u62F7\u8D1D\u81F3\u76EE\u6807redis\u6240\u5728\u673A\u5668\u6216\u7F51\u7EDC
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>\u6570\u636E\u5BFC\u5165</li></ul><blockquote><p>\u5728\u53E6\u5916\u4E00\u4E2A\u670D\u52A1\u5668\uFF0C\u5BFC\u5165appendonly.aof\u6587\u4EF6\u5C31\u884C\u4E86\uFF1A</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@realtime-3 anli]# redis-cli -h realtime-3 -p 6379  --pipe &lt; appendonly.aof
All data transferred. Waiting for the last reply...
Last reply received from server.
errors: 0, replies: 27917
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>\u6CE8\u610F\uFF1A</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>aof\u6587\u4EF6\u5176\u5B9E\u5C31\u662F\u5C06redis\u4E2D\u6240\u6709\u7684\u6267\u884C\u547D\u4EE4\u6C47\u805A\u5230\u4E00\u4E2A\u6587\u4EF6\u4E2D\uFF0C\u5F53\u5BFC\u5165\u65F6\uFF0C\u76F8\u5F53\u4E8E\u5168\u90E8\u91CD\u65B0\u6267\u884C\u4E86\u4E00\u904D\u547D\u4EE4\uFF0C\u4ECE\u800C\u8D77\u5230\u4E86\u5907\u4EFD\u7684\u4F5C\u7528\u3002
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>\u5173\u95EDaof\u529F\u80FD</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>redis-cli -h realtime-1 -p 26480  
&gt;&gt; config set appendonly no
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,19);function l(r,i){return a}var p=n(s,[["render",l]]);export{p as default};
